Version 4
SHEET 1 1220 680
WIRE 80 -224 80 -272
WIRE 256 -224 256 -272
WIRE 336 -224 336 -272
WIRE -32 -208 -32 -272
WIRE 832 -208 832 -272
WIRE 608 -192 608 -272
WIRE -368 -160 -368 -224
WIRE -32 -80 -32 -128
WIRE 80 -80 80 -144
WIRE 80 -80 -32 -80
WIRE 608 -16 608 -128
WIRE 672 -16 608 -16
WIRE 832 -16 832 -128
WIRE 832 -16 752 -16
WIRE -368 32 -368 -80
WIRE 80 80 80 -80
WIRE 144 80 80 80
WIRE 256 80 256 -160
WIRE 256 80 224 80
WIRE 336 80 336 -160
WIRE 336 80 256 80
WIRE 576 80 336 80
WIRE 576 96 576 80
WIRE 608 96 608 -16
WIRE 80 128 80 80
WIRE 560 128 512 128
WIRE 832 128 832 -16
WIRE 832 128 624 128
WIRE -368 144 -368 112
WIRE -96 144 -368 144
WIRE 560 160 560 128
WIRE 576 160 560 160
WIRE -96 192 -96 144
WIRE 352 208 272 208
WIRE 592 208 592 160
WIRE 592 208 432 208
WIRE 640 208 592 208
WIRE 832 208 832 128
WIRE 832 208 720 208
WIRE 80 272 80 208
WIRE 80 272 -48 272
WIRE 272 304 272 208
WIRE 368 304 272 304
WIRE 496 304 432 304
WIRE -368 336 -368 144
WIRE 80 352 80 272
WIRE 272 400 272 304
WIRE 272 400 144 400
WIRE 352 400 272 400
WIRE 448 400 432 400
WIRE 528 400 512 400
WIRE 528 464 528 400
WIRE -368 496 -368 416
WIRE -96 496 -96 288
WIRE 80 560 80 448
WIRE 528 560 528 544
FLAG -32 -272 0
FLAG -368 496 0
FLAG -96 496 0
FLAG 80 560 0
FLAG -368 -224 0
FLAG 528 560 0
FLAG 336 -272 0
FLAG 512 128 0
FLAG 832 -272 0
FLAG 80 -272 0
FLAG 256 -272 0
FLAG 608 -272 0
FLAG 496 304 0
SYMBOL voltage -32 -112 R180
WINDOW 3 24 104 Left 1
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 12 1 0.01 0.01 8 20 1)
SYMATTR InstName IGN
SYMBOL npn 144 352 M0
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL res -384 320 R0
SYMATTR InstName GLOBAL_EN_input
SYMATTR Value 10Meg
SYMBOL nmos -48 192 M0
SYMATTR InstName M1
SYMATTR Value BSC016N03MS
SYMBOL voltage -368 -64 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName RPI_VCC5
SYMATTR Value 5V
SYMBOL res -384 16 R0
WINDOW 0 -233 27 Left 2
WINDOW 3 -80 62 Left 2
SYMATTR InstName GLOBAL_EN_pullup
SYMATTR Value 10k
SYMBOL voltage 528 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName RPI_VCC3.3
SYMATTR Value 0
SYMBOL res 448 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 240 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 47k
SYMBOL cap 320 -224 R0
SYMATTR InstName C1
SYMATTR Value 3.3µF
SYMBOL LM311 656 128 R90
SYMATTR InstName U1
SYMATTR Value LM311
SYMBOL voltage 832 -112 R180
WINDOW 0 -112 101 Left 2
WINDOW 3 -82 18 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName 12V_VCC
SYMATTR Value 12V
SYMBOL res 448 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 47k
SYMBOL res 96 -128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 736 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL diode 512 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL zener 240 -224 R0
WINDOW 3 -113 73 Left 2
SYMATTR Value TFZV11B
SYMATTR InstName D1
SYMBOL zener 592 -192 R0
WINDOW 3 -50 73 Left 2
SYMATTR Value BZX84C10L
SYMATTR InstName D3
SYMBOL res 768 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL cap 432 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1µF
SYMBOL res 64 112 R0
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -808 -232 Left 2 !.tran 30s
TEXT -808 -192 Left 2 !.include LM311.301
